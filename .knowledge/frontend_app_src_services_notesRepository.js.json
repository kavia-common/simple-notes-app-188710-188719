{"is_source_file": true, "format": "JavaScript", "description": "This file implements a notes repository that manages CRUD operations for notes, choosing between remote API calls and local stubs based on configuration and network availability. It provides functions to list, get, create, update, and delete notes, as well as detecting the current operational mode.", "external_files": ["../utils/env", "../constants/featureFlags", "./notesApi", "./notesStub"], "external_methods": ["getApiBaseUrl", "getFeatureFlags", "api.pingNotesApi", "api.listNotes", "api.getNote", "api.createNote", "api.updateNote", "api.deleteNote"], "published": ["listNotes", "getNote", "createNote", "updateNote", "deleteNote", "getRepositoryMode"], "classes": [], "methods": [{"name": "shouldTryRemote()", "description": "Determines whether to attempt remote API calls based on environment base URL and feature flags.", "scope": "", "scopeKind": ""}, {"name": "detectMode()", "description": "Detects whether the repository should operate in remote or stub mode, using cached mode if available.", "scope": "", "scopeKind": ""}, {"name": "normalizeFromApi(note)", "description": "Normalizes a single note object received from the API to a standard format.", "scope": "", "scopeKind": ""}, {"name": "normalizeListFromApi(result)", "description": "Normalizes a list of notes, accommodating different backend response formats.", "scope": "", "scopeKind": ""}, {"name": "createNote(payload)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteNote(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getNote(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getRepositoryMode()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listNotes()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateNote(id, payload)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["api.pingNotesApi", "api.listNotes", "api.getNote", "api.createNote", "api.updateNote", "api.deleteNote"], "search-terms": ["notesRepository", "remote or stub mode", "Note API management", "fallback to stub", "repository detection"], "state": 2, "file_id": 19, "knowledge_revision": 48, "git_revision": "cacf4a4beececfd0805ffb12d89f80cdb552d155", "ctags": [{"_type": "tag", "name": "cachedMode", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^let cachedMode = null; \\/\\/ \"remote\" | \"stub\"$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^export async function createNote(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^export async function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "detectMode", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^async function detectMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^export async function getNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getRepositoryMode", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^export async function getRepositoryMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^export async function listNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeFromApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^function normalizeFromApi(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "normalizeListFromApi", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^function normalizeListFromApi(result) {$/", "language": "JavaScript", "kind": "function", "signature": "(result)"}, {"_type": "tag", "name": "shouldTryRemote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^function shouldTryRemote() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-188710-188719/frontend_app/src/services/notesRepository.js", "pattern": "/^export async function updateNote(id, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, payload)"}], "hash": "52c63966841a87cf71286b2b5225b40a", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/services/notesRepository.js", "fields": [{"name": "let cachedMode = null; \\/\\/ \"remote\" | \"stub\"", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"48": "cacf4a4beececfd0805ffb12d89f80cdb552d155"}]}